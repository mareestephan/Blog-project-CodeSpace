<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Edit Blogpost</title>
  <link rel="stylesheet" href="output.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- SUMMERNOTE -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-lite.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-lite.css" rel="stylesheet">
  <!-- END OF SUMMERNOTE -->
</head>

<body>
  <!-- START OF HEADER AND NAVBAR -->

  <header>
    <h2><a href="index.html">Cool kids code.</a></h2>
    <nav>

      <ul>
        <li><a href="index.html">Archive</a></li>
        <li><a href="create.html">Create Post</a></li>
        <li><a href="edit.html">Edit Post</a></li>
        <li><a href="signup.html">Sign up</a></li>
      </ul>
    </nav>

  </header>
  <hr>

  <!-- END OF HEADER AND NAVBAR -->

  <h1>This is where we edit posts.</h1>

  <form id="submitPost" action="http://localhost:3000/posts" method="post">

    <label>
        Title :
        <input type="text" name="title" value="" placeholder="Insert a cool title">
      </label>
    <br>
    <br>
    <label>
        Author :
        <input type="text" name="author" value="" placeholder="Your famous name">
      </label>
    <br>
    <br>
    <label>
        Date :
        <input type="date" name="date" value="" >
      </label>

    <br>
    <br>

    <label>
        Insert & edit article :
        <textarea id="summernote" name="editordata"></textarea>
      </label>
    <hr>

    <input type="" name="image" value="" placeholder="insert img url">

    <input type="submit" name="submit" value="SUBMIT">

  </form>

  <!-- END CREATE BLOG POST TEMPLATE -->


</body>

<script type="text/javascript">
  $(document).ready(function() { //jquery start
    // summernote start
    $('#summernote').summernote({
      height: 300,
      minHeight: null,
      maxHeight: null,
      focus: true
    });
    // summernote end

    //get ID and post data
    var url_string = window.location.href;
    var url = new URL(url_string);
    var id = url.searchParams.get("id");

    $.getJSON('http://localhost:3000/posts?id=' + id, function(data){

      for (object of data) {
          $('input[name="title"]').val(data.post_title)
          $('input[name="author"]').val(data.post_author);
          $('input[name="date"]').val(data.post_date);
          $('#summernote').summernote('code',data.post_article);
          $('input[name="image"]').val(data.image_url);




      }

      // for(post of posts){

    //   $('input[name="title"]').val(data.post_title)
    //   $('input[name="author"]').val(data.post_author);
    //   $('input[name="date"]').val(data.post_date);
    //   $('#summernote').summernote('code',data.post_article);
    //   $('input[name="image"]').val(data.image_url);
    // // };
    });
    // $('#submitPost').submit(fucntion(event){
    //   event.preventDefault();
    //
    //
    //
    // })


  });
</script>

</html>
